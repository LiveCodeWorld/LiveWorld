command project_StartEnvironment projectName
   -- was "library_StartEnvironment"
   
   set the cursor to watch
   put project_GetCurrentName() into currentSetName
   if currentSetName is not empty then
      project_StopEnvironment currentSetName
   end if
   
   -- if it is a default set "none" then stop everything but don't load anything
   if projectName = "none" then return empty
   
   project_LoadGlobals projectName
   
   project_SetCurrentName projectName -- just in case it has been messed up
   project_StartBack projectName
   project_StartUsed projectName
   project_StartFront projectName
   
   put project_GetRevHackStatus (projectName) into someBoolean
   ide_AddBehaviorHacks someBoolean, true
end project_StartEnvironment